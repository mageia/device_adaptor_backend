webpackJsonp([4],{"9UqO":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("q9dy"),r=a("DeVu"),i=!1;var n=function(t){i||a("Z5dU")},u=a("VU/8")(s.a,r.a,!1,n,"data-v-abe4d158",null);u.options.__file="pages/outputs/_id.vue",e.default=u.exports},DeVu:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",staticStyle:{width:"900px",margin:"0 auto"}},[a("h1",[t._v("编辑数据源")]),a("el-card",{staticClass:"mb20"},[a("el-form",{attrs:{model:t.data}},[a("el-form-item",{attrs:{label:"类型","label-width":t.formLabelWidth}},[a("el-select",{attrs:{value:"redis",placeholder:"选择数据源类型"}},t._l(t.outputType,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1),a("el-form-item",{attrs:{label:"地址","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autoComplete:"off"},model:{value:t.data.url_address,callback:function(e){t.$set(t.data,"url_address",e)},expression:"data.url_address"}})],1)],1)],1),a("el-button",{staticClass:"pull-right",attrs:{type:"primary",size:"small"},on:{click:function(e){t.updateDataSource()}}},[t._v("保存")]),a("el-button",{staticClass:"pull-right",staticStyle:{"margin-right":"20px"},attrs:{type:"default",size:"small"},on:{click:function(e){t.jumpTo()}}},[t._v("返回上一页")])],1)};s._withStripped=!0;var r={render:s,staticRenderFns:[]};e.a=r},K8Rp:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".json-editor[data-v-abe4d158]{margin-bottom:15px;height:500px}",""])},Z5dU:function(t,e,a){var s=a("K8Rp");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("703111b5",s,!1,{sourceMap:!1})},q9dy:function(t,e,a){"use strict";var s=a("Xxa5"),r=a.n(s),i=a("exGp"),n=a.n(i);e.a={name:"KeyEdit",components:{},data:function(){return{formLabelWidth:"80px",units:["s","ms"],id:"",data:{}}},computed:{outputType:function(){return JSON.parse(window.localStorage.getItem("OUTPUT_PLUGIN_TYPE"))}},methods:{fetchData:function(){var t=n()(r.a.mark(function t(){var e,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios({method:"get",url:"/plugin/outputs/"+this.id});case 2:e=t.sent,a=e.data,this.data=a,a.interval&&(a.unit=/[a-z]*$/.exec(a.interval)[0],a.interval=/^[0-9]*/.exec(a.interval)[0]);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),updateDataSource:function(){var t=n()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={plugin_name:"redis",url_address:this.data.url_address},t.next=3,this.$axios({method:"put",url:"/plugin/outputs/"+this.id,data:e});case 3:t.sent,this.$message({message:"修改成功！",type:"success"}),this.isEditModalShow=!1;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),jumpTo:function(){this.$router.push("/outputs")}},mounted:function(){this.$nextTick(function(){this.id=this.$route.params.id,this.fetchData(this.key)})}}}});