{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./src/api/index.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./src/components/lean-form.vue?b0ec","webpack:///src/components/lean-form.vue","webpack:///./src/components/lean-form.vue?de4b","webpack:///./src/components/lean-form.vue","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./src/views/input/detail.vue?7083","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack:///./src/views/input/detail.vue?77ec","webpack:///src/views/input/detail.vue","webpack:///./src/views/input/detail.vue?a347","webpack:///./src/views/input/detail.vue","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js/modules/_create-property.js"],"names":["pIE","createDesc","toIObject","toPrimitive","has","IE8_DOM_DEFINE","gOPD","Object","getOwnPropertyDescriptor","exports","f","O","P","e","call","getConfigSample","fetch","url","method","getCurrentConfig","createData","type","data","deleteData","id","getData","updateData","getPointMap","probePointMap","updatePointMap","$Object","module","it","key","desc","defineProperty","toObject","$keys","$export","S","F","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","form","formLabelWidth","_v","_s","currentType","_e","isEditing","model","value","callback","$$v","$set","expression","_l","item","idx","label","staticStyle","staticRenderFns","component","core","fails","KEY","exec","fn","exp","staticClass","inputConfig","plugin_name","on","changeFormData","$event","updateDataSource","jumpTo","ownKeys","createProperty","getOwnPropertyDescriptors","object","getDesc","keys","result","i","length","undefined","hiddenKeys","concat","getOwnPropertyNames","gOPN","gOPS","anObject","Reflect","getSymbols","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","Array","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","NAME","explicit","Collection","proto","prototype","_defineProperty","obj","enumerable","configurable","writable","$defineProperty","index"],"mappings":"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","file":"js/chunk-78f87f2f.c5644fc2.js","sourcesContent":["var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","import fetch from '@/utils/fetch'\n\nexport function getConfigSample() {\n    return fetch({\n        url: '/interface/getConfigSample',\n        method: 'get',\n    })\n}\n\nexport function getCurrentConfig() {\n    return fetch({\n        url: '/interface/getCurrentConfig',\n        method: 'get',\n    })\n}\n\nexport function createData(type, data) {\n    return fetch({\n        url: `/interface/plugin/${type}/`,\n        method: 'post',\n        data\n    })\n}\n\nexport function deleteData(type, id) {\n    return fetch({\n        url: `/interface/plugin/${type}/${id}`,\n        method: 'delete'\n    })\n}\n\nexport function getData(type, id) {\n    return fetch({\n        url: `/interface/plugin/${type}/${id}`,\n        method: 'get'\n    })\n}\n\nexport function updateData(type, id, data) {\n    return fetch({\n        url: `/interface/plugin/${type}/${id}`,\n        method: 'put',\n        data\n    })\n}\n\nexport function getPointMap(id) {\n    return fetch({\n        url: '/interface/pointMap/' + id,\n        method: 'get'\n    })\n}\nexport function probePointMap(id) {\n    return fetch({\n        url: '/interface/probePointMap/' + id,\n        method: 'get'\n    })\n}\nexport function updatePointMap(id, data) {\n    return fetch({\n        url: '/interface/pointMap/' + id,\n        method: 'put',\n        data\n    })\n}\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"leanForm\",attrs:{\"model\":_vm.form}},[(_vm.isEditing)?_c('el-form-item',{attrs:{\"label\":\"类型\",\"label-width\":_vm.formLabelWidth}},[_c('span',[_vm._v(_vm._s(_vm.currentType))])]):_vm._e(),(!_vm.isEditing)?_c('el-form-item',{attrs:{\"label\":\"类型\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"选择数据源类型\"},model:{value:(_vm.form.plugin_name),callback:function ($$v) {_vm.$set(_vm.form, \"plugin_name\", $$v)},expression:\"form.plugin_name\"}},_vm._l((_vm.inputType),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1):_vm._e(),_vm._l((_vm.form.fields),function(item,idx){return _c('el-form-item',{key:idx,attrs:{\"label\":item.label,\"label-width\":_vm.formLabelWidth}},[(item.type==='input')?_c('el-input',{attrs:{\"autoComplete\":\"off\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.type==='combine')?[_c('el-input',{staticStyle:{\"width\":\"80px\",\"margin-right\":\"10px\"},attrs:{\"autoComplete\":\"off\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}),_c('el-select',{staticStyle:{\"width\":\"70px\"},model:{value:(item.unit),callback:function ($$v) {_vm.$set(item, \"unit\", $$v)},expression:\"item.unit\"}},_vm._l((_vm.units),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)]:_vm._e(),(item.type==='radio')?[_c('el-radio-group',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},[_c('el-radio',{attrs:{\"label\":true}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":false}},[_vm._v(\"否\")])],1)]:_vm._e(),(item.type==='text')?_c('el-input',{attrs:{\"type\":\"textarea\",\"autoComplete\":\"off\",\"rows\":10},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e()],2)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <el-form ref=\"leanForm\" :model=\"form\">\n            <el-form-item v-if=\"isEditing\" label=\"类型\" :label-width=\"formLabelWidth\">\n                <span>{{currentType}}</span>\n            </el-form-item>\n            <el-form-item v-if=\"!isEditing\" label=\"类型\" :label-width=\"formLabelWidth\">\n                <el-select v-model=\"form.plugin_name\" placeholder=\"选择数据源类型\">\n                    <el-option v-for=\"item in inputType\" :key=\"item\" :label=\"item\" :value=\"item\">\n                    </el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item :label=\"item.label\" :label-width=\"formLabelWidth\" v-for=\"(item, idx) in form.fields\" :key=\"idx\">\n                <el-input v-if=\"item.type==='input'\" v-model=\"item.value\" autoComplete=\"off\"></el-input>\n                <template v-if=\"item.type==='combine'\">\n                    <el-input v-model=\"item.value\" autoComplete=\"off\" style=\"width: 80px;margin-right: 10px;\"></el-input>\n                    <el-select v-model=\"item.unit\" style=\"width: 70px\">\n                        <el-option v-for=\"item in units\" :key=\"item\" :label=\"item\" :value=\"item\">\n                        </el-option>\n                    </el-select>\n                </template>\n                <template v-if=\"item.type==='radio'\">\n                    <el-radio-group v-model=\"item.value\">\n                        <el-radio :label=\"true\">是</el-radio>\n                        <el-radio :label=\"false\">否</el-radio>\n                    </el-radio-group>\n                </template>\n                <el-input v-if=\"item.type==='text'\" type=\"textarea\" v-model=\"item.value\" autoComplete=\"off\" :rows=\"10\"></el-input>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n<script>\n    export default {\n        name: \"lean-form\",\n        props: {\n            // 配置样例，根据配置样例，生成不同的配置项\n            sampleData: {\n                type: Object,\n                default: () => {\n                    return {}\n                }\n            },\n            // 只要reset发生变化就会重置表单（外部可以通过控制reset进行变化，来清空表单）\n            reset: {\n                type: Boolean,\n                default: false\n            },\n            // 以下是编辑表单使用的props\n            // 是否是编辑模式： true为编辑模式，需要传入 formdata 和 currentType\n            isEditing: {\n                type: Boolean,\n                default: false\n            },\n            // 编辑时，当前表单的值\n            formData: {\n                type: Object,\n                default:  () => {\n                    return {}\n                }\n            },\n            // 当前plugin_type，更具当前plugin_type 获取对应的 sampleData\n            currentType: {\n                type: String,\n                default: ''\n            },\n        },\n        data() {\n            return {\n                formLabelWidth: '140px',\n                // 表单项\n                form: {\n                    plugin_name: '',\n                    fields: [] //动态生成的表单项 {key 表单项对应的变量, value 变量的默认值, label 表单项的label, type 标单项的类型}\n                },\n                units: ['s', 'ms'],\n            }\n        },\n        computed: {\n            dataType() {\n                console.log(this.form.plugin_name)\n                return this.form.plugin_name\n            },\n            inputType() {\n                return Object.keys(this.sampleData)\n            }\n        },\n        watch: {\n            currentType(cur, old) {\n                console.log(this.formData)\n                this.formatForm()\n            },\n            dataType (cur, old) {\n                this.formatForm()\n            },\n            'form.fields': {\n                handler() {\n                    console.log(this.form)\n                    this.$emit('changeFormData', this.form)\n                },\n                deep: true\n            },\n            reset(cur, old) {\n                this.resetForm()\n            }\n        },\n        methods: {\n            // 根据config sample生成对应的form表单列表\n            formatForm() {\n                this.form.fields = []\n                \n                let inputType = !this.isEditing ? this.dataType : this.currentType\n\n                if(!inputType) return\n                \n                Object.keys(this.sampleData).length > 0 && this.sampleData[inputType].forEach((item, idx) => {\n                    if(item.Type !== 'none' && item.Key !== 'plugin_name') {\n                        // 如果是combinetype，value的值为‘2s’，需要把单位和值匹配出来\n                        if(item.Type === 'combine') {\n                            let tempVal = !this.isEditing ? item.Default : this.formData[item.Key]\n                            let unit = /[a-z]*$/.exec(tempVal)[0]\n                            let interval = /^[0-9]*/.exec(tempVal)[0]\n                            this.form.fields.push({\n                                key: item.Key,\n                                value: interval,\n                                label: item.Label,\n                                type: item.Type,\n                                unit: unit\n                            })\n                        } else {\n                            if(item.Type === 'text' && !this.isEditing) return\n                            this.form.fields.push({\n                                key: item.Key,\n                                value: !this.isEditing ? item.Default : this.formData[item.Key],\n                                label: item.Label,\n                                type: item.Type\n                            })\n                        } \n                    }\n                })\n            },\n            formChange() {\n                console.log('change')\n            },\n            resetForm() {\n                this.form = {\n                    plugin_name: '',\n                    fields: []\n                }\n            }\n        },\n        mounted () {\n            this.$nextTick(() => {\n                this.formatForm()\n            })\n        }\n    }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lean-form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lean-form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./lean-form.vue?vue&type=template&id=009cd16c&\"\nimport script from \"./lean-form.vue?vue&type=script&lang=js&\"\nexport * from \"./lean-form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=215bfd72&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=215bfd72&lang=less&scoped=true&\"","module.exports = require(\"core-js/library/fn/object/define-property\");","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\",staticStyle:{\"width\":\"900px\",\"margin\":\"0 auto\"}},[_c('h1',[_vm._v(\"编辑数据源配置\")]),_c('el-card',{staticClass:\"mb20\"},[_c('lean-form',{attrs:{\"sample-data\":_vm.inputConfig,\"form-data\":_vm.data,\"is-editing\":true,\"current-type\":_vm.data.plugin_name},on:{\"changeFormData\":_vm.changeFormData}})],1),_c('el-button',{staticClass:\"pull-right\",attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.updateDataSource()}}},[_vm._v(\"保存\")]),_c('el-button',{staticClass:\"pull-right\",staticStyle:{\"margin-right\":\"20px\"},attrs:{\"type\":\"default\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.jumpTo()}}},[_vm._v(\"返回上一页\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"app-container\" style=\"width: 900px;margin: 0 auto;\">\n        <h1>编辑数据源配置</h1>\n        <el-card class=\"mb20\">\n            <lean-form :sample-data=\"inputConfig\" :form-data=\"data\" :is-editing=\"true\" :current-type=\"data.plugin_name\" @changeFormData=\"changeFormData\"></lean-form>\n        </el-card>\n        <el-button class=\"pull-right\" type=\"primary\" size=\"small\" @click=\"updateDataSource()\">保存</el-button>\n        <el-button class=\"pull-right\" type=\"default\" size=\"small\" @click=\"jumpTo()\" style=\"margin-right:20px;\">返回上一页</el-button>\n        <!-- <el-row>\n            <el-col :span=\"24\">\n                <no-ssr>\n                    <json-editor :data=\"data\" :height=\"500\" @onChange=\"changeData\"></json-editor>\n                </no-ssr>\n                <el-button type=\"primary\" class=\"pull-right\" @click=\"save\">保存修改</el-button>\n            </el-col>\n        </el-row> -->\n    </div>\n</template>\n<script>\nimport * as api from \"@/api/index\";\nimport LeanForm from \"@/components/lean-form\";\nimport { mapGetters } from \"vuex\";\nexport default {\n    name: \"KeyEdit\",\n    components: {\n        LeanForm\n    },\n    data() {\n        return {\n            id: \"\",\n            data: {}, //原始json\n            inputConfig: {},\n            currentData: {}\n        };\n    },\n    computed: {\n        ...mapGetters([\"token\"])\n    },\n    methods: {\n        async fetchData() {\n            let { data } = await api.getData(\"inputs\", this.id);\n            // let { data } = await this.$axios({\n            //     method: \"get\",\n            //     url: \"/plugin/inputs/\" + this.id,\n            //     headers: {\n            //         Authorization: this.jwt\n            //     }\n            // });\n\n            this.data = data;\n        },\n        // update\n        async updateDataSource() {\n            let data = {\n                plugin_name: this.data.plugin_name\n            };\n            let fields = Object.assign([], this.currentData.fields);\n            fields.forEach(item => {\n                if (item.type !== \"combine\") {\n                    data[item.key] = item.value;\n                } else {\n                    // 如果为combine类型，需要把值和单位拼起来\n                    data[item.key] = `${item.value}${item.unit}`;\n                }\n            });\n            let response = await api.updateData(\"inputs\", this.id, data);\n            // let response = await this.$axios({\n            //     method: \"put\",\n            //     url: \"/plugin/inputs/\" + this.id,\n            //     headers: {\n            //         Authorization: this.jwt\n            //     },\n            //     data\n            // });\n            this.$message({\n                message: \"修改成功！\",\n                type: \"success\"\n            });\n        },\n        jumpTo() {\n            this.$router.push(\"/input/index\");\n        },\n        initConfig() {\n            this.inputConfig = JSON.parse(\n                localStorage.getItem(\"INPUT_PLUGIN_CONFIG\")\n            );\n        },\n        changeFormData(data) {\n            this.currentData = data;\n        }\n    },\n    mounted() {\n        this.$nextTick(function() {\n            this.id = this.$route.params.id;\n            this.fetchData(this.key);\n            this.initConfig();\n        });\n    }\n};\n</script>\n<style lang=\"less\" scoped>\n/*.json-editor {*/\n/*    margin-bottom: 15px;*/\n/*    height: 500px;*/\n/*}*/\n.hot-table {\n    margin-bottom: 15px;\n    height: 500px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=215bfd72&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=215bfd72&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"215bfd72\",\n  null\n  \n)\n\nexport default component.exports","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n"],"sourceRoot":""}